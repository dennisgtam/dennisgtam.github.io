<!DOCTYPE html>


<html>
<head>
	<title>Technical Blog 7: Ruby Hashes and JavaScript Objects</title>
	<meta charset="UTF-8">
	<link rel="stylesheet" type="text/css" href="../css/blog-template.css">
</head>


		<body>

      <div id="header-table">
      	<table>
      		<tr>
      			<td><a href="#">Home</a></td>
      			<td><a href="blog/index.html">Blog</a></td>
      			<td><a href="https://github.com/dennisgtam">Projects</a></td>
      			<td><a href="contact.html">Contact</a></td>
      			<td><a href="about.html">About</a></td>
      		</tr>
      	</table>
      </div>

			<div id="head-body">
	

					<div id="blog-nav-wrapper">
          <div class="blog-nav-head"><a href="index.html">Technical</a></div>
          <div class="blog-nav-head"><a href="index.html">Cultural</a></div>
          <div class="blog-nav-head"><a href="index.html">Misc</a></div>
          <div class="blog-nav-head"><a href="index.html">All</a></div>
				</div>
			</div>

			<div id="blog">

				<h1>Technical Blog 7: Ruby Hashes and JavaScript Objects</h1>
				<h4>August 23, 2015</h4>

				<p>This week I started learning some JavaScript. It's the language of the web and it's what used to manipulate
				a lot of things on the front end of the application, most often the HTML. It shares a lot of basic functionality
				with Ruby but is a lot looser on a lot of things too.</p>

				<p>Like Ruby, JavaScript has objects. The most striking difference is how similar to Ruby Hashes they are. In the literal
				declaration of an object, the syntax looks very much like a Ruby hash. Like in Ruby, JavaScript variables have scope. Variables declared inside functions (JS for methods) are limited to the functions that created them. Similar to Ruby instance variables,
				JS objects can hold variables as well.</p>

				<p>We're going to take a look at a cipher class in Ruby and JavaScript. The ruby one first.</p>

				<!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #008800; font-weight: bold">class</span> <span style="color: #BB0066; font-weight: bold">Cipher</span>

  <span style="color: #336699">@@alphabet</span> <span style="color: #333333">=</span> (<span style="background-color: #fff0f0">&quot;a&quot;</span><span style="color: #333333">.</span>.<span style="background-color: #fff0f0">&quot;z&quot;</span>)<span style="color: #333333">.</span>to_a

  <span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">initialize</span>(shift)
    <span style="color: #3333BB">@shift</span> <span style="color: #333333">=</span> shift
  <span style="color: #008800; font-weight: bold">end</span>

  <span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">decode</span>(input)
    <span style="color: #3333BB">@input</span> <span style="color: #333333">=</span> input<span style="color: #333333">.</span>downcase<span style="color: #333333">.</span>split(<span style="background-color: #fff0f0">&quot;&quot;</span>)
    <span style="color: #3333BB">@decoded_sentence</span> <span style="color: #333333">=</span> <span style="color: #333333">[]</span>

    <span style="color: #3333BB">@input</span><span style="color: #333333">.</span>each <span style="color: #008800; font-weight: bold">do</span> <span style="color: #333333">|</span>char<span style="color: #333333">|</span>
      <span style="color: #008800; font-weight: bold">if</span> <span style="color: #336699">@@alphabet</span><span style="color: #333333">.</span>include? char
        <span style="color: #3333BB">@decoded_sentence</span> <span style="color: #333333">&lt;&lt;</span> <span style="color: #336699">@@alphabet</span><span style="color: #333333">[</span>(<span style="color: #336699">@@alphabet</span><span style="color: #333333">.</span>index(char)<span style="color: #333333">-</span><span style="color: #3333BB">@shift</span>)<span style="color: #333333">%</span><span style="color: #0000DD; font-weight: bold">26</span><span style="color: #333333">]</span>
      <span style="color: #888888">#elsif (0..9).to_a.include?(char)</span>
      <span style="color: #888888">#  @decoded_sentence &lt;&lt; char</span>
      <span style="color: #008800; font-weight: bold">elsif</span> char <span style="color: #333333">==</span> <span style="background-color: #fff0f0">&quot;@&quot;</span> <span style="color: #333333">||</span> char <span style="color: #333333">==</span> <span style="background-color: #fff0f0">&quot;#&quot;</span> <span style="color: #333333">||</span> char <span style="color: #333333">==</span> <span style="background-color: #fff0f0">&quot;$&quot;</span> <span style="color: #333333">||</span> char <span style="color: #333333">==</span> <span style="background-color: #fff0f0">&quot;%&quot;</span><span style="color: #333333">||</span> char <span style="color: #333333">==</span> <span style="background-color: #fff0f0">&quot;^&quot;</span> <span style="color: #333333">||</span> char <span style="color: #333333">==</span> <span style="background-color: #fff0f0">&quot;&amp;&quot;</span><span style="color: #333333">||</span> char <span style="color: #333333">==</span><span style="background-color: #fff0f0">&quot;*&quot;</span>
        <span style="color: #3333BB">@decoded_sentence</span> <span style="color: #333333">&lt;&lt;</span> <span style="background-color: #fff0f0">&quot; &quot;</span>
      <span style="color: #008800; font-weight: bold">else</span> 
        <span style="color: #3333BB">@decoded_sentence</span> <span style="color: #333333">&lt;&lt;</span> char
      <span style="color: #008800; font-weight: bold">end</span>
    <span style="color: #008800; font-weight: bold">end</span>
    <span style="color: #3333BB">@decoded_sentence</span> <span style="color: #333333">=</span> <span style="color: #3333BB">@decoded_sentence</span><span style="color: #333333">.</span>join(<span style="background-color: #fff0f0">&quot;&quot;</span>)
  <span style="color: #008800; font-weight: bold">end</span>
<span style="color: #008800; font-weight: bold">end</span>

four_cipher <span style="color: #333333">=</span> <span style="color: #003366; font-weight: bold">Cipher</span><span style="color: #333333">.</span>new(<span style="color: #0000DD; font-weight: bold">4</span>)
<span style="color: #007020">p</span> four_cipher<span style="color: #333333">.</span>decode(<span style="background-color: #fff0f0">&quot;m^aerx%e&amp;gsoi!&quot;</span>)
</pre></div>
	

			<p>The cipher object takes an integer as an input when created. It's decode method takes a String, and shifts every letter to a different letter it according to the integer entered. Now let's look at the Javascript version of this.</p>


				<!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%">alphabet_string <span style="color: #333333">=</span> <span style="background-color: #fff0f0">&quot;abcdefghijklmnopqrstuvwxyz&quot;</span>;
alphabet <span style="color: #333333">=</span> <span style="color: #008800; font-weight: bold">new</span> <span style="color: #007020">Array</span>();
<span style="color: #008800; font-weight: bold">for</span> (<span style="color: #008800; font-weight: bold">var</span> index <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">0</span>; index <span style="color: #333333">&lt;</span> alphabet_string.length; index<span style="color: #333333">++</span>){
	alphabet.push(alphabet_string[index]);
}


<span style="color: #008800; font-weight: bold">function</span> Cipher(shift){
	<span style="color: #008800; font-weight: bold">this</span>.shift <span style="color: #333333">=</span> shift;

	<span style="color: #008800; font-weight: bold">this</span>.mod <span style="color: #333333">=</span> <span style="color: #008800; font-weight: bold">function</span>(num, mod_v){
		<span style="color: #008800; font-weight: bold">return</span> ((num <span style="color: #333333">%</span> mod_v) <span style="color: #333333">+</span> mod_v) <span style="color: #333333">%</span> mod_v;
	}

	<span style="color: #008800; font-weight: bold">this</span>.decode <span style="color: #333333">=</span> <span style="color: #008800; font-weight: bold">function</span>(message){
		<span style="color: #008800; font-weight: bold">var</span> decoded <span style="color: #333333">=</span> <span style="background-color: #fff0f0">&quot;&quot;</span>;
		<span style="color: #008800; font-weight: bold">for</span>(<span style="color: #008800; font-weight: bold">var</span> index <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">0</span>; index <span style="color: #333333">&lt;</span> message.length; index<span style="color: #333333">++</span>){
			<span style="color: #008800; font-weight: bold">var</span> character <span style="color: #333333">=</span> message[index];
			console.log(character <span style="color: #333333">+</span> <span style="background-color: #fff0f0">&quot; maps to &quot;</span> <span style="color: #333333">+</span> alphabet[<span style="color: #008800; font-weight: bold">this</span>.mod((alphabet.indexOf(character)<span style="color: #333333">-</span><span style="color: #008800; font-weight: bold">this</span>.shift),<span style="color: #0000DD; font-weight: bold">26</span>)]);
			<span style="color: #008800; font-weight: bold">if</span> (alphabet.indexOf(character) <span style="color: #333333">!=</span> <span style="color: #333333">-</span><span style="color: #0000DD; font-weight: bold">1</span>) decoded <span style="color: #333333">=</span> decoded <span style="color: #333333">+</span> alphabet[<span style="color: #008800; font-weight: bold">this</span>.mod((alphabet.indexOf(character)<span style="color: #333333">-</span><span style="color: #008800; font-weight: bold">this</span>.shift),<span style="color: #0000DD; font-weight: bold">26</span>)];
			<span style="color: #008800; font-weight: bold">else</span> <span style="color: #008800; font-weight: bold">if</span> (character <span style="color: #333333">==</span> <span style="background-color: #fff0f0">&quot;@&quot;</span> <span style="color: #333333">||</span> character <span style="color: #333333">==</span> <span style="background-color: #fff0f0">&quot;#&quot;</span> <span style="color: #333333">||</span> character <span style="color: #333333">==</span> <span style="background-color: #fff0f0">&quot;$&quot;</span> <span style="color: #333333">||</span> character <span style="color: #333333">==</span> <span style="background-color: #fff0f0">&quot;%&quot;</span><span style="color: #333333">||</span> character <span style="color: #333333">==</span> <span style="background-color: #fff0f0">&quot;^&quot;</span> <span style="color: #333333">||</span> character <span style="color: #333333">==</span> <span style="background-color: #fff0f0">&quot;&amp;&quot;</span><span style="color: #333333">||</span> character <span style="color: #333333">==</span><span style="background-color: #fff0f0">&quot;*&quot;</span>) decoded <span style="color: #333333">=</span> decoded <span style="color: #333333">+</span> <span style="background-color: #fff0f0">&quot; &quot;</span>;
			<span style="color: #008800; font-weight: bold">else</span> decoded <span style="color: #333333">=</span> decoded <span style="color: #333333">+</span> character;
		}
		<span style="color: #008800; font-weight: bold">return</span> decoded;
	};
}

mycipher <span style="color: #333333">=</span> <span style="color: #008800; font-weight: bold">new</span> Cipher(<span style="color: #0000DD; font-weight: bold">4</span>);
console.log(mycipher.shift);
console.log(mycipher.decode);
console.log(mycipher.decode(<span style="background-color: #fff0f0">&quot;m^aerx%e&amp;gsoi!&quot;</span>));
</pre></div>
			
			<p>So already some obvious changes. The above is the function  declaration version of creating a object in JS. This is sort of how JS creates classes. Like Ruby, JS has initialization methods for its classes called constructors. JS's constructors are wrapped into the declartion of the JS "class."</p>

			<p>The "this" keyword  works similar to the "@" symbol and is used in much the same way as when declaring instance variables inside the class. Interestingly, the "this" keyword is also required for functions inside of the object. Other than that, the base logic works the exact same way.</p>

			<p>Instansiation of a an object is similar with myobject = new Object(args). From there, we can call the methods on the object similar to Ruby. You can also access object variables in the same way you access Ruby instance variables. Since JS objects behave similar to Ruby hashes, you can think of JS objects calling keys to obtain values. In this way, if you store a function to Ruby, and we want to call the function. You have to call it object.function(). If you call object.function_name, it does not actually run the function, it just returns it to you. For me, this was the most hard to grasp concept.</p>

			<p>Otherwise, JS is just a different language. The same problems can be solved in similar ways to Ruby.</p>

	

			</div>
		</body>
	</div>


</body>
</html>